<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get recent uploads — get_recent_uploads • EDIutils</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Get recent uploads — get_recent_uploads"><meta property="og:description" content="Get recent uploads"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EDIutils</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/search_and_access.html">Search and Access Data</a>
    </li>
    <li>
      <a href="../articles/publish_data.html">Evaluate and Upload Data</a>
    </li>
    <li>
      <a href="../articles/retrieve_downloads.html">Retrieve Download Metrics</a>
    </li>
    <li>
      <a href="../articles/retrieve_citations.html">Retrieve Citation Metrics</a>
    </li>
    <li>
      <a href="../articles/tests_requiring_authentication.html">Tests Requiring Authentication</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/EDIorg/EDIutils/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get recent uploads</h1>
    <small class="dont-index">Source: <a href="https://github.com/EDIorg/EDIutils/blob/HEAD/R/get_recent_uploads.R" class="external-link"><code>R/get_recent_uploads.R</code></a></small>
    <div class="hidden name"><code>get_recent_uploads.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Get recent uploads</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">get_recent_uploads</span><span class="op">(</span><span class="va">query</span>, env <span class="op">=</span> <span class="st">"production"</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>query</dt>
<dd><p>(character) Query (see details below)</p></dd>
<dt>env</dt>
<dd><p>(character) Repository environment. Can be: "production",
"staging", or "development".</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>(xml_document) A list of zero or more audit records of either
recently inserted or recently updated data packages.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Query parameters are specified as key=value pairs, multiple pairs
must be delimited with ampersands (&amp;), and only a single value should be
specified for a particular key. The following query parameter keys are
allowed:</p>
<ul><li><p>serviceMethod - Can be: createDataPackage, updateDataPackage</p></li>
<li><p>fromTime - An ISO8601 timestamp</p></li>
<li><p>limit - A positive whole number</p></li>
</ul><p>The query parameter serviceMethod should have the value "createDataPackage"
(to retrieve recent inserts) or "updateDataPackage" (to retrieve recent
updates). The query parameter fromTime is used to specify the date/time in
the past that represents the oldest audit records that should be returned.
Data packages uploaded prior to that time are not considered recent uploads
and are thus filtered from the query results. The query parameter limit sets
an upper limit on the number of audit records returned. For example,
"limit=3".</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other Audit Manager Services: 
<code><a href="get_audit_count.html">get_audit_count</a>()</code>,
<code><a href="get_audit_record.html">get_audit_record</a>()</code>,
<code><a href="get_audit_report.html">get_audit_report</a>()</code>,
<code><a href="get_docid_reads.html">get_docid_reads</a>()</code>,
<code><a href="get_packageid_reads.html">get_packageid_reads</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Get the 5 most recently created data packages</span></span>
<span class="r-in"><span class="va">auditReport</span> <span class="op">&lt;-</span> <span class="fu">get_recent_uploads</span><span class="op">(</span></span>
<span class="r-in">  query <span class="op">=</span> <span class="st">"serviceMethod=createDataPackage&amp;limit=5"</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Show the first</span></span>
<span class="r-in"><span class="fu">xml2</span><span class="fu">::</span><span class="fu"><a href="http://xml2.r-lib.org/reference/xml_find_all.html" class="external-link">xml_find_first</a></span><span class="op">(</span><span class="va">auditReport</span>, <span class="st">"auditRecord"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {xml_node}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;auditRecord&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] &lt;oid&gt;127322125&lt;/oid&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2] &lt;entryTime&gt;2022-01-10T12:04:12&lt;/entryTime&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3] &lt;category&gt;info&lt;/category&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4] &lt;service&gt;DataPackageManager-1.0&lt;/service&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] &lt;serviceMethod&gt;createDataPackage&lt;/serviceMethod&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] &lt;responseStatus&gt;200&lt;/responseStatus&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] &lt;resourceId&gt;https://pasta.lternet.edu/package/eml/knb-lter-fce/1236/1&lt;/r ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] &lt;user&gt;uid=FCE,o=EDI,dc=edirepository,dc=org&lt;/user&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] &lt;userAgent&gt;null&lt;/userAgent&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10] &lt;groups&gt;authenticated,vetted&lt;/groups&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] &lt;authSystem&gt;https://pasta.edirepository.org/authentication&lt;/authSystem&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [12] &lt;entryText/&gt;</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Colin Smith.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

